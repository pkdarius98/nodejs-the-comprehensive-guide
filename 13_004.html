<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
                    
        <head><meta content="application/xhtml+xml; charset=utf-8" http-equiv="Content-Type"/>
            <meta content="application/xhtml+xml; charset=utf-8" name="content-type"/>
            <meta content="Type-Safe Applications in Node.js" name="title"/>
            <meta content="Sebastian Springer" name="author"/>
            <meta content="Rheinwerk Publishing" name="publisher"/>
            <meta content="© 2022 by Rheinwerk Publishing Inc., Boston (MA)" name="copyright"/>
            <meta content="Node.js - The Comprehensive Guide - Type-Safe Applications in Node.js" name="description"/>
            <meta content="en" name="language"/>
            <title>Type-Safe Applications in Node.js</title>
            <link href="common/main.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:e0000000-0000-0000-0000-000029756394" name="Adept.expected.resource"/>
        </head>
    


                    <body class="office_us type_kapitel">
                        <div id="main">
        <h2 class="t2" id="h13.4">13.4    Classes<a class="indexanchor" id="i13_69"/></h2>
        <p class="standard">In addition to the types included in TypeScript, you can also define your own types. Normally, this is done via classes because every class in TypeScript is also a new type that you can use for type markup. TypeScript classes follow the same syntax as JavaScript. <span class="crossreference "><a href="13_004.html#l13.22">Listing 13.22</a></span> shows the basic framework of a class and how to use it.</p>
        <div class="listing " id="l13.22"><pre><span class="rot">class Movie</span><span class="schwarz"> </span><span class="schwarz">{</span><span class="schwarz"><br/></span>  rating <span class="dunkelblau">=</span><span class="schwarz"> </span><span class="schwarz">0;</span><span class="schwarz"><br/></span><br/>  <span class="schwarz">constructor(</span><span class="schwarz"><br/></span>    <span class="rot">public</span><span class="schwarz"> id</span><span class="schwarz">:</span><span class="schwarz"> number</span><span class="schwarz">,</span><span class="schwarz"><br/></span>    <span class="rot">public</span><span class="schwarz"> title</span><span class="schwarz">:</span><span class="schwarz"> string</span><span class="schwarz">,</span><span class="schwarz"><br/></span>    <span class="rot">public</span><span class="schwarz"> year</span><span class="schwarz">:</span><span class="schwarz"> number</span><span class="schwarz">)</span><span class="schwarz"> </span><span class="schwarz">{}</span><span class="schwarz"><br/></span><span class="schwarz">}</span><span class="schwarz"><br/></span><br/><span class="rot">function</span><span class="schwarz"> </span><span class="schwarz">rate(</span><span class="schwarz">movie</span><span class="schwarz">:</span><span class="schwarz"> Movie</span><span class="schwarz">,</span><span class="schwarz"> rating</span><span class="schwarz">:</span><span class="schwarz"> number</span><span class="schwarz">):</span><span class="schwarz"> </span><span class="rot">void</span><span class="schwarz"> </span><span class="schwarz">{</span><span class="schwarz"><br/></span>  movie<span class="schwarz">.</span><span class="schwarz">rating </span><span class="dunkelblau">=</span><span class="schwarz"> rating</span><span class="schwarz">;</span><span class="schwarz"><br/></span><span class="schwarz">}</span><span class="schwarz"><br/></span><br/><span class="rot">const</span><span class="schwarz"> ironMan </span><span class="dunkelblau">=</span><span class="schwarz"> </span><span class="rot">new </span><span class="schwarz">Movie(1,</span><span class="schwarz"> </span><span class="hellblau">'Iron Man'</span><span class="schwarz">,</span><span class="schwarz"> </span><span class="schwarz">2008);</span><span class="schwarz"><br/></span><br/><span class="schwarz">rate(</span><span class="schwarz">ironMan</span><span class="schwarz">,</span><span class="schwarz"> </span><span class="schwarz">4);</span><span class="schwarz"><br/></span> <br/><span class="magenta"><a id="p404"/>console</span><span class="schwarz">.log(</span><span class="schwarz">ironMan</span><span class="schwarz">);</span><span class="gruen"><br/></span>// Output: Movie { id: 1, title: 'Iron Man', year: 2008, rating: 4 }<span class="schwarz"> </span></pre></div>
        <p class="caption "><b>Listing 13.22</b>    
            Classes in TypeScript</p>
        <p class="standard">The class represents two special features of TypeScript. You can set access modifiers<a class="indexanchor" id="i13_70"/> on properties and methods of a class. The <samp class="listingcharacter listingcharacter">rating</samp> property is defined with an initial value of <samp class="listingcharacter listingcharacter">0</samp>, which implicitly corresponds to the <samp class="listingcharacter listingcharacter">number</samp> type. Without the existence of an explicit access modifier, <samp class="listingcharacter listingcharacter">public</samp><a class="indexanchor" id="i13_71"/> is assumed.</p>
        <p class="standard">In the constructor<a class="indexanchor" id="i13_72"/>, you can see a very helpful shortcut notation<a class="indexanchor" id="i13_73"/>. Often, when objects are created, values are passed to the constructor, which are then written directly to an object’s properties. If you specify the access modifier in the parameter list of the constructor in addition to the name and type of a parameter, this property is set in the object with the specified access modifier, and the passed value is assigned. In this case, you save the listing of the properties of the class as well as the explicit assignment of the values. With this notation, however, you should take care that the parameters list of your constructor doesn’t become too long.</p>
        <p class="standard">The <samp class="listingcharacter listingcharacter">rate</samp> function shows how you can use the newly generated class as a type specification. You can use the class types in all places where the standard types of TypeScript are also allowed.</p>
        
            <h3 class="t3" id="h13.4.1">13.4.1    Methods<a class="indexanchor" id="i13_74"/></h3>
            <p class="standard">Of course, it makes much more sense to implement the <samp class="listingcharacter listingcharacter">rate</samp> function as part of the <samp class="listingcharacter listingcharacter">movie</samp> class. For methods in TypeScript, the same rules apply as for functions when it comes to type specifications. You can add types to the parameters list and specify a return value, as shown in <span class="crossreference "><a href="13_004.html#l13.23">Listing 13.23</a></span>.</p>
            <div class="listing " id="l13.23"><pre><span class="rot">class Movie</span><span class="schwarz"> </span><span class="schwarz">{</span><span class="schwarz"><br/></span>  rating <span class="dunkelblau">=</span><span class="schwarz"> </span><span class="schwarz">0;</span><span class="schwarz"><br/></span><br/>  <span class="schwarz">constructor(</span><span class="schwarz"><br/></span>    <span class="rot">public</span><span class="schwarz"> id</span><span class="schwarz">:</span><span class="schwarz"> number</span><span class="schwarz">,</span><span class="schwarz"> </span><br/>    <span class="rot">public</span><span class="schwarz"> title</span><span class="schwarz">:</span><span class="schwarz"> string</span><span class="schwarz">,</span><span class="schwarz"> </span><br/>    <span class="rot">public</span><span class="schwarz"> year</span><span class="schwarz">:</span><span class="schwarz"> number</span><span class="schwarz">)</span><span class="schwarz"> </span><span class="schwarz">{}</span><span class="schwarz"><br/></span><br/>  <span class="schwarz">rate(</span><span class="schwarz">rating</span><span class="schwarz">:</span><span class="schwarz"> number</span><span class="schwarz">):</span><span class="schwarz"> </span><span class="rot">void</span><span class="schwarz"> </span><span class="schwarz">{</span><span class="schwarz"><br/></span>    <span class="rot">this</span><span class="schwarz">.</span><span class="schwarz">rating </span><span class="dunkelblau">=</span><span class="schwarz"> rating</span><span class="schwarz">;</span><span class="schwarz"><br/></span>  <span class="schwarz">}</span><span class="schwarz"><br/></span><span class="schwarz">}</span><span class="schwarz"><br/></span><br/><span class="rot">const</span><span class="schwarz"> ironMan </span><span class="dunkelblau">=</span><span class="schwarz"> </span><span class="rot">new </span><span class="schwarz">Movie(1,</span><span class="schwarz"> </span><span class="hellblau">'Iron Man'</span><span class="schwarz">,</span><span class="schwarz"> </span><span class="schwarz">2008);</span><span class="schwarz"><br/></span><br/><a id="p405"/>ironMan<span class="schwarz">.rate(4);</span><span class="schwarz"><br/></span> <br/><span class="magenta">console</span><span class="schwarz">.log(</span><span class="schwarz">ironMan</span><span class="schwarz">);</span><span class="gruen"><br/></span>// Output: Movie { id: 1, title: 'Iron Man', year: 2008, rating: 4 }<span class="schwarz"> </span></pre></div>
            <p class="caption "><b>Listing 13.23</b>    
            Methods in TypeScript Classes</p>
            <p class="standard">The following is true also for methods: If you don’t specify an access modifier, <samp class="listingcharacter listingcharacter">public</samp> is assumed.</p>
        
        
            <h3 class="t3" id="h13.4.2">13.4.2    Access Modifiers<a class="indexanchor" id="i13_75"/></h3>
            <p class="standard">TypeScript has access modifiers that allow you to restrict the visibility of properties and methods. In total, TypeScript has three different modifiers:</p>
            <ul>
                <li>
                    <p class="standard first-item last-item"><span class="bold"><samp class="listingcharacter listingcharacter">public</samp></span><a class="indexanchor" id="i13_76"/><samp class="listingcharacter listingcharacter"><br/></samp>As the most general access modifier, property or method marked as <samp class="listingcharacter listingcharacter">public</samp> is always visible on this object and can also be used from outside the object. If you don’t specify an access modifier, <samp class="listingcharacter listingcharacter">public</samp> is used by default.</p>
                </li>
                <li>
                    <p class="standard first-item last-item"><span class="bold"><samp class="listingcharacter listingcharacter">protected</samp></span><a class="indexanchor" id="i13_77"/><samp class="listingcharacter listingcharacter"><br/></samp>Properties and methods marked with <samp class="listingcharacter listingcharacter">protected</samp> can be used within the class as well as in derived classes.</p>
                </li>
                <li>
                    <p class="standard first-item last-item"><span class="bold"><samp class="listingcharacter listingcharacter">private</samp></span><a class="indexanchor" id="i13_78"/><samp class="listingcharacter listingcharacter"><br/></samp>The last access modifier and also the most restrictive one is <samp class="listingcharacter listingcharacter">private</samp>. You can use these properties and methods only within the current classes.</p>
                </li>
            </ul>
        
        
            <h3 class="t3" id="h13.4.3">13.4.3    Inheritance<a class="indexanchor" id="i13_79"/></h3>
            <p class="standard">Similar to the classes in JavaScript, TypeScript supports inheritance in classes with the <samp class="listingcharacter listingcharacter">extends</samp> keyword<a class="indexanchor" id="i13_80"/>. Inheritance becomes relevant when you specify the type. For example, if you allow the <samp class="listingcharacter listingcharacter">movie</samp> type as a parameter in a function, you can also use the <samp class="listingcharacter listingcharacter">HorrorMovie</samp> type derived from <samp class="listingcharacter listingcharacter">movie</samp>, as shown in <span class="crossreference "><a href="13_004.html#l13.24">Listing 13.24</a></span>.</p>
            <div class="listing " id="l13.24"><pre><span class="rot">class Movie</span><span class="schwarz"> </span><span class="schwarz">{</span><span class="schwarz"><br/></span>  <span class="schwarz">constructor(</span><span class="schwarz"><br/></span>    <span class="rot">public</span><span class="schwarz"> id</span><span class="schwarz">:</span><span class="schwarz"> number</span><span class="schwarz">,</span><span class="schwarz"> </span><br/>    <span class="rot">public</span><span class="schwarz"> title</span><span class="schwarz">:</span><span class="schwarz"> string</span><span class="schwarz">,</span><span class="schwarz"> </span><br/>    <span class="rot">public</span><span class="schwarz"> year</span><span class="schwarz">:</span><span class="schwarz"> number</span><br/>  <span class="schwarz">)</span><span class="schwarz"> </span><span class="schwarz">{}</span><span class="schwarz"><br/></span><span class="schwarz">}</span><span class="schwarz"><br/></span> <br/><span class="rot">class HorrorMovie</span><span class="schwarz"> </span><span class="rot">extends Movie</span><span class="schwarz"> </span><span class="schwarz">{</span><span class="schwarz"><br/></span>  type <span class="dunkelblau">=</span><span class="schwarz"> </span><span class="hellblau">'Horror'</span><span class="schwarz">;</span><span class="schwarz"><br/></span><span class="schwarz">}</span><span class="schwarz"><br/></span> <br/><span class="rot"><a id="p406"/>function</span><span class="schwarz"> </span><span class="schwarz">show(</span><span class="schwarz">movie</span><span class="schwarz">:</span><span class="schwarz"> Movie</span><span class="schwarz">)</span><span class="schwarz"> </span><span class="schwarz">{</span><span class="schwarz"><br/></span>  <span class="magenta">console</span><span class="schwarz">.log(</span><span class="hellblau">'Now showing: '</span><span class="schwarz">,</span><span class="schwarz"> movie</span><span class="schwarz">.</span><span class="schwarz">title</span><span class="schwarz">);</span><span class="schwarz"><br/></span><span class="schwarz">}</span><span class="schwarz"><br/></span> <br/><span class="rot">const</span><span class="schwarz"> shining </span><span class="dunkelblau">=</span><span class="schwarz"> </span><span class="rot">new </span><span class="schwarz">HorrorMovie(1,</span><span class="schwarz"> </span><span class="hellblau">'The Shining'</span><span class="schwarz">,</span><span class="schwarz"> </span><span class="schwarz">1980);</span><span class="schwarz"><br/></span> <br/><span class="schwarz">show(</span><span class="schwarz">shining</span><span class="schwarz">);</span><span class="gruen"> // Output: Now showing: The Shining</span><span class="schwarz"> </span></pre></div>
            <p class="caption "><b>Listing 13.24</b>    
            Inheritance in TypeScript</p>
            <p class="standard">As you can see, TypeScript classes behave mostly like JavaScript classes with a few exceptions, such as the constructor shortcut or the access modifiers for properties and methods.</p>
            <p class="standard">If you need the structure of a class, but you don’t use logic or an instance of this structure, you can use interfaces, as discussed next.</p>
        
    </div><p class="signatur"/>
                    </body>
                </html>