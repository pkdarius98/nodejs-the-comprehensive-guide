<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
                    
        <head><meta content="application/xhtml+xml; charset=utf-8" http-equiv="Content-Type"/>
            <meta content="application/xhtml+xml; charset=utf-8" name="content-type"/>
            <meta content="RxJS" name="title"/>
            <meta content="Sebastian Springer" name="author"/>
            <meta content="Rheinwerk Publishing" name="publisher"/>
            <meta content="© 2022 by Rheinwerk Publishing Inc., Boston (MA)" name="copyright"/>
            <meta content="Node.js - The Comprehensive Guide - RxJS" name="description"/>
            <meta content="en" name="language"/>
            <title>RxJS</title>
            <link href="common/main.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:e0000000-0000-0000-0000-000029756394" name="Adept.expected.resource"/>
        </head>
    


                    <body class="office_us type_kapitel">
                        <div id="main">
        <h2 class="t2" id="h17.4">17.4    Schedulers<a class="indexanchor" id="i17_100"/></h2>
        <p class="standard">Schedulers affect the time<a class="indexanchor" id="i17_101"/> at which the events of an observable are triggered. Different schedulers also create a different effect in your application. The effect of the different schedulers provided by RxJS is easiest to demonstrate with an actual example. <span class="crossreference "><a href="17_004.html#l17.29">Listing 17.29</a></span> contains three observables, each of which has been provided with different schedulers.</p>
        <div class="listing " id="l17.29"><pre><span class="rot">import</span><span class="schwarz"> </span><span class="schwarz">{</span><span class="schwarz"> observeOn </span><span class="schwarz">}</span><span class="schwarz"> </span><span class="rot">from</span><span class="schwarz"> </span><span class="hellblau">'rxjs/operators'</span><span class="schwarz">;</span><span class="schwarz"><br/></span><span class="rot">import</span><span class="schwarz"> </span><span class="schwarz">{</span><span class="schwarz"> </span><br/>  <span class="rot">of</span><span class="schwarz">,</span><span class="schwarz"> </span><br/>  queueScheduler<span class="schwarz">,</span><span class="schwarz"> </span><br/>  asapScheduler<span class="schwarz">,</span><span class="schwarz"> </span><br/>  asyncScheduler <br/><span class="schwarz">}</span><span class="schwarz"> </span><span class="rot">from</span><span class="schwarz"> </span><span class="hellblau">'rxjs'</span><span class="schwarz">;</span><span class="schwarz"><br/></span> <br/><span class="magenta">console</span><span class="schwarz">.log(</span><span class="hellblau">'start'</span><span class="schwarz">);</span><span class="schwarz"><br/></span><span class="schwarz">of(</span><span class="hellblau">'queueScheduler'</span><span class="schwarz">)</span><span class="schwarz"><br/></span>  <span class="schwarz">.pipe(</span><span class="bold"><samp class="listingcharacter listingcharacter">observeOn(queueScheduler)</samp></span>)<br/>  .subscribe((data) <span class="dunkelblau">=&gt;</span><span class="schwarz"> </span><span class="magenta">console</span><span class="schwarz">.log(data));</span><br/>of(<span class="hellblau">'asyncScheduler'</span><span class="schwarz">)</span><br/>  .pipe(<span class="bold"><samp class="listingcharacter listingcharacter">observeOn(asyncScheduler)</samp></span>)<br/>  .subscribe((data) <span class="dunkelblau">=&gt;</span><span class="schwarz"> </span><span class="magenta">console</span><span class="schwarz">.log(data));</span><br/>of(<span class="hellblau">'asapScheduler'</span><span class="schwarz">)</span><br/>  .pipe(<span class="bold"><samp class="listingcharacter listingcharacter">observeOn(asapScheduler)</samp></span>)<br/>  .subscribe((data) <span class="dunkelblau">=&gt;</span><span class="schwarz"> </span><span class="magenta">console</span><span class="schwarz">.log(data));</span><br/> <br/><span class="magenta">console</span><span class="schwarz">.log(</span><span class="hellblau">'end'</span><span class="schwarz">); </span><span class="schwarz"/></pre></div>
        <p class="caption "><b>Listing 17.29</b>    
            Using Different Schedulers</p>
        <p class="standard">If you run the source code of the example, you’ll get an output as shown in <span class="crossreference "><a href="17_004.html#l17.30">Listing 17.30</a></span>.</p>
        <div class="listing " id="l17.30"><pre>start<br/>queueScheduler<br/>end<br/>asapScheduler<br/>asyncScheduler </pre></div>
        <p class="caption "><b>Listing 17.30</b>    
            Output of the Scheduler Example</p>
        <p class="standard"><a id="p543"/>The outputs <samp class="listingcharacter listingcharacter">start</samp> and <samp class="listingcharacter listingcharacter">end</samp> are generated by the <samp class="listingcharacter listingcharacter">console.log</samp> statements. These are executed synchronously in the program flow as usual and serve as anchor points for the output. The output of the observable that was provided with the <samp class="listingcharacter listingcharacter">queueScheduler</samp><a class="indexanchor" id="i17_102"/> using the <samp class="listingcharacter listingcharacter">observeOn</samp> operator also behaves synchronously. So, the output is between <samp class="listingcharacter listingcharacter">start</samp> and <samp class="listingcharacter listingcharacter">end</samp>.</p>
        <p class="standard">Both the <samp class="listingcharacter listingcharacter">asapScheduler</samp><a class="indexanchor" id="i17_103"/> and the <samp class="listingcharacter listingcharacter">asyncScheduler</samp><a class="indexanchor" id="i17_104"/> are asynchronous. This means both outputs occur only after the synchronous parts of the source code, that is, after the output of <samp class="listingcharacter listingcharacter">end</samp>. The result from the <samp class="listingcharacter listingcharacter">asapScheduler</samp> is output first, followed by the result from the <samp class="listingcharacter listingcharacter">asyncScheduler</samp> because they were routed to different queues. The <samp class="listingcharacter listingcharacter">asapScheduler</samp> uses <samp class="listingcharacter listingcharacter">setImmediate</samp> for timing purposes. The <samp class="listingcharacter listingcharacter">asyncScheduler</samp> uses the same queue as a <samp class="listingcharacter listingcharacter">setTimeout</samp> with a value of <samp class="listingcharacter listingcharacter">0</samp> milliseconds.</p>
        <p class="standard">You can also pass a scheduler directly as the second argument to numerous operators such as <samp class="listingcharacter listingcharacter">from</samp> or <samp class="listingcharacter listingcharacter">of</samp>.</p>
    </div><p class="signatur"/>
                    </body>
                </html>