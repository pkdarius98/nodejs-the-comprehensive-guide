<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
                    
        <head><meta content="application/xhtml+xml; charset=utf-8" http-equiv="Content-Type"/>
            <meta content="application/xhtml+xml; charset=utf-8" name="content-type"/>
            <meta content="Basic Principles" name="title"/>
            <meta content="Sebastian Springer" name="author"/>
            <meta content="Rheinwerk Publishing" name="publisher"/>
            <meta content="© 2022 by Rheinwerk Publishing Inc., Boston (MA)" name="copyright"/>
            <meta content="Node.js - The Comprehensive Guide - Basic Principles" name="description"/>
            <meta content="en" name="language"/>
            <title>Basic Principles</title>
            <link href="common/main.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:e0000000-0000-0000-0000-000029756394" name="Adept.expected.resource"/>
        </head>
    


                    <body class="office_us type_kapitel">
                        <div id="main"><h1 class="t1" id="h1">1    <a id="p31"/>Basic Principles</h1><p class="introductorynote indent_chapter_single">All beginnings are difficult.<br/>–Ovid</p><p class="standard">Bringing more dynamics into web pages was the original idea behind JavaScript<a class="indexanchor" id="i01_00"/>. The scripting language was intended to compensate for the weaknesses of HTML when it came to responding to user input. The history of JavaScript dates back to 1995 when it was developed under the code name Mocha<a class="indexanchor" id="i01_01"/> by Brendan Eich, a developer at Netscape. One of the most remarkable facts about JavaScript is that the first prototype of this successful and globally used language was developed in just 10 days. Still in the year of its creation, Mocha was renamed to LiveScript<a class="indexanchor" id="i01_02"/> and finally to JavaScript in a cooperation between Netscape and Sun. This was mainly for marketing purposes, as at that time it was assumed that Java would become the leading language in client-side web development.</p><div class="imagebox figure-type"><a href="img-f1.1.html" id="f1.1"><img alt="Support for JavaScript Features in Node.js (http://node.green)" id="img-f1.1" src="bilderklein/klein01_001.png"/></a></div><p class="caption "><b>Figure 1.1</b>    
            Support for JavaScript Features in Node.js (http://node.green)</p><p class="standard"><a id="p32"/>Convinced by the success of JavaScript, Microsoft also integrated a scripting language into Internet Explorer 3 in 1996. This was the birth of JScript<a class="indexanchor" id="i01_03"/>, which was mostly compatible with JavaScript, but with additional features added.</p><p class="standard">Today, the mutual vying of the two companies is known as the “browser wars.” The development ensured that the two JavaScript engines steadily improved in both feature set and performance, which is the primary reason for JavaScript’s success today.</p><p class="standard">In 1997, the first draft of the language standard was created at Ecma International. The entire language core of the script language is recorded under the cryptic designation ECMA-262<a class="indexanchor" id="i01_04"/> or ISO/IEC 16262<a class="indexanchor" id="i01_05"/>. The current standard can be found at <span class="url"><a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm">www.ecma-international.org/publications/standards/Ecma-262.htm</a></span>. Due to this standardization, vendor-independent JavaScript is also referred to as ECMAScript. Until a few years ago, the ECMAScript<a class="indexanchor" id="i01_06"/> standard was versioned in integers starting at 1. Since version 6<a class="indexanchor" id="i01_07"/>, the versions are also provided with year numbers. ECMAScript in version 8 is therefore referred to as ECMAScript 2017. As a rule, you can assume that the manufacturers support the older versions of the standard quite well. You must either enable newer features by configuration flags in the browser or simulate them via polyfills (<a class="indexanchor" id="i01_08"/>that is, recreating the features in JavaScript). A good overview of the currently supported features is provided by kangax’s compatibility table<a class="indexanchor" id="i01_09"/>, which can be found at <span class="url"><a href="http://kangax.github.io/compat-table/es6/">http://kangax.github.io/compat-table/es6/</a></span>. A version adapted for Node.js can be reached at <span class="url"><a href="http://node.green/">http://node.green/</a></span>.</p><div class="imagebox figure-type"><a href="img-f1.2.html" id="f1.2"><img alt="Top Languages in GitHub Based on Pull Requests (octoverse.github.com)" id="img-f1.2" src="bilderklein/klein01_002.png"/></a></div><p class="caption "><b>Figure 1.2</b>    
            Top Languages in GitHub Based on Pull Requests (octoverse.github.com)</p><p class="standard"><a id="p33"/>JavaScript is lightweight, is relatively easy to learn, and has a huge ecosystem of frameworks and libraries. For these reasons, JavaScript is one of the most successful programming languages in the world. This success can be backed up by numbers: Since 2008, JavaScript has been in the top two spots in GitHub’s<a class="indexanchor" id="i01_10"/> language trends. In 2021, JavaScript was passed by Python in the number one spot and is now in second place in language trends.</p><p class="standard">Node.js is based on this successful scripting language and has had a meteoric rise itself. This chapter will serve as an introduction to the world of Node.js, showing you how the platform is built, and where and how you can use Node.js.</p>
        <h2 class="t2" id="h1.1">1.1    The Story of Node.js</h2>
        <p class="standard">To help you better understand what Node.js is and how some of the development decisions came about, let's explore the history of the platform.</p>
        
            <h3 class="t3" id="h1.1.1">1.1.1    Origins</h3>
            <p class="standard">Node.js was originally developed by Ryan Dahl<a class="indexanchor" id="i01_11"/>, a PhD student in mathematics who thought better of it, abandoned his efforts, and instead preferred to travel to South America with a one-way ticket and very little money in his pocket. There, he kept his head above water by teaching English. During this time, he got in touch with PHP as well as Ruby and discovered his affection for web development. The problem with working with the Ruby framework, called Rails,<a class="indexanchor" id="i01_12"/> was that it couldn’t deal with concurrent requests without any workaround. The applications were too slow and utilized the CPU entirely. Dahl found a solution to his problems with Mongrel, a web server for applications based on Ruby.</p>
            <p class="standard">Unlike traditional web servers, Mongrel responds to user requests and generates responses dynamically, where otherwise only static HTML pages are delivered.</p>
            <p class="standard">The task that actually led to the creation of Node.js is quite trivial from today’s point of view. In 2005, Dahl was looking for an elegant way to implement a progress bar for file uploads. However, the technologies available at the time only allowed unsatisfactory solutions. Regarding file transfers, HTTP was used for relatively small files, and File Transfer Protocol (FTP) was used for larger files. The status of the upload was queried using long polling, which is a technique where the client sends long-lived requests to the server, and the server uses the open channel for replies. Dahl’s first attempt to implement a progress bar took place in Mongrel. After sending the file to the server, it checked the status of the upload using a large number of Asynchronous JavaScript and XML (AJAX) requests and displayed it graphically in a progress bar. However, the downside of this implementation was Ruby’s single-threaded<a class="indexanchor" id="i01_13"/> approach and the large number of requests that were required.</p>
            <p class="standard"><a id="p34"/>Another promising approach involved an implementation in C. Here, Dahl’s options weren’t limited to one thread. However, C as a programming language for the web has a decisive disadvantage: only a small number of developers are enthusiastic about this field of application. Dahl was also confronted with this problem and discarded this approach after a short time.</p>
            <p class="standard">The search for a suitable programming language to solve his problem continued and led him to functional programming languages such as Haskell<a class="indexanchor" id="i01_14"/>. Haskell’s approach is built on nonblocking input/output (I/<a class="indexanchor" id="i01_15"/>O), which means that all read and write operations are asynchronous and don’t block the execution of a program. This allows the language to remain single-threaded at its core and doesn’t introduce the problems that arise from parallel programming. Among other things, no resources have to be synchronized, and no problems are caused by the runtime of parallel threads. However, Dahl still wasn’t fully satisfied with this solution and was looking for other options.</p>
        
        
            <h3 class="t3" id="h1.1.2">1.1.2    Birth of Node.js</h3>
            <p class="standard">Dahl then found the solution he was finally satisfied with—JavaScript. He realized that this scripting language could meet all his requirements. JavaScript had already been established on the web for years, so there were powerful engines and a large number of developers. In January 2009, he began working on his implementation for server-side JavaScript, which can be regarded as the birth of Node.js<a class="indexanchor" id="i01_16"/>. Another reason for implementing the solution in JavaScript, according to Dahl, was the fact that the developers of JavaScript didn’t envision this area of use. At that time, no native web server existed in JavaScript, it couldn’t handle files in a file system, and there was no implementation of sockets<a class="indexanchor" id="i01_17"/> to communicate with other applications or systems. All these points spoke in favor of JavaScript as the basis for a platform for interactive web applications because no determinations had yet been made in this area, and, consequently, no mistakes had yet been made either. The architecture of JavaScript also argued for such an implementation. The approach of top-level functions<a class="indexanchor" id="i01_18"/> (i.e., functions that aren’t linked to any object, are freely available, and can be assigned to variables) offers a high degree of flexibility in development and enables functional approaches to solutions.</p>
            <p class="standard">Thus, Dahl selected other libraries in addition to the JavaScript engine<a class="indexanchor" id="i01_19"/>, which is responsible for interpreting the JavaScript source code, and put them together in one platform.</p>
            <p class="standard">In September 2009, Isaac Schlueter<a class="indexanchor" id="i01_20"/> started working on a package manager for Node.js, the <span class="italic">Node Package Manager</span> (<span class="italic">npm</span>)<a class="indexanchor" id="i01_21"/>.</p>
        
        
            <h3 class="t3" id="h1.1.3">1.1.3    Breakthrough of Node.js</h3>
            <p class="standard">After Dahl integrated all the components and created the first executable examples on the new Node.js platform, he needed a way to introduce Node.js to the public. This also <a id="p35"/>became necessary because his financial resources shrank considerably due to the development of Node.js, and he would have had to stop working on Node.js if he didn’t find any sponsors. He chose the JavaScript conference JSConf EU<a class="indexanchor" id="i01_22"/> in November 2009 in Berlin as his presentation platform. Dahl put all his eggs in one basket. If the presentation was a success and he found sponsors to support his work on Node.js, he could continue his involvement; if not, almost a year’s work would have been in vain. In a rousing talk, he introduced Node.js to the audience and showed how to create a fully functional web server<a class="indexanchor" id="i01_23"/> with just a few lines of JavaScript code. As another example, he introduced an implementation of an Internet Relay Chat (IRC) chat server. The source code for this demonstration comprised about 400 lines. Using this example, he demonstrated the architecture and thus the strengths of Node.js while making it tangible for the audience. The recording of this presentation can be found at <span class="url"><a href="http://www.youtube.com/watch?v=EeYvFl7li9E">www.youtube.com/watch?v=EeYvFl7li9E</a></span>. The presentation didn’t miss its mark and led to Joyent<a class="indexanchor" id="i01_24"/> stepping in as a sponsor for Node.js. Joyent is a San Francisco-based software and services provider offering hosting solutions and cloud infrastructure. With its commitment, Joyent included the open-source software Node.js in its product portfolio and made Node.js available to its customers as part of its hosting offerings. Dahl was hired by Joyent and became a full-time maintainer for Node.js from that point on.</p>
        
        
            <h3 class="t3" id="h1.1.4">1.1.4    Node.js Conquers Windows<a class="indexanchor" id="i01_25"/></h3>
            <p class="standard">The developers made a significant step toward the spread of Node.js by introducing native support for Windows in version 0.6 in November 2011. Up to that point, Node.js could only be installed awkwardly on Windows via Cygwin<a class="indexanchor" id="i01_26"/>.</p>
            <p class="standard">Since version 0.6.3 in November 2011, npm<a class="indexanchor" id="i01_27"/> has been an integral part of the Node.js packages and is thus automatically delivered when Node.js is installed.</p>
            <p class="standard">Surprisingly, at the start of 2012, Dahl announced that he would finally retire from active development after three years of working on Node.js. He handed over the reins of development to Schlueter. The latter, like Dahl, was an employee at Joyent and actively involved in the development of the Node.js core. The change unsettled the community, as it wasn’t clear whether the platform would continue to develop without Dahl. A signal that the Node.js community<a class="indexanchor" id="i01_28"/> considered as being strong enough for solid further development came with the release of version 0.8 in June 2012, which was primarily intended to significantly improve the performance and stability of Node.js.</p>
            <p class="standard">With version 0.10 in March 2013, one of the central interfaces of Node.js changed: the Stream application programming interface (API). With this change, it became possible to actively pull data from a stream. Because the previous API was already widely used, both interfaces continued to be supported.</p>
        
        
            <h3 class="t3" id="h1.1.5">1.1.5    <a id="p36"/>io.js<a class="indexanchor" id="i01_29"/>: The Fork<a class="indexanchor" id="i01_30"/> of Node.js</h3>
            <p class="standard">In January 2014, there was another change in the project management of Node.js. Schlueter, who left Node.js maintenance in favor of his own company (called npmjs)<a class="indexanchor" id="i01_31"/>, the host of the npm repository, was succeeded by TJ Fontaine<a class="indexanchor" id="i01_32"/>. Under his direction, version 0.12 was released in February 2014. A common criticism of Node.js at the time was that the framework had still not reached the supposedly stable version 1.0, which prevented numerous companies from using Node.js for critical applications.</p>
            <p class="standard">Many developers were unhappy with Joyent, which had provided maintainers for Node.js since Dahl, and so the community fractured in December 2014. The result was io.js, a fork of Node.js that was developed separately from the original platform. As a result, the independent Node.js Foundation<a class="indexanchor" id="i01_33"/> was founded in February 2015, which was responsible for the further development of io.js. At the same time, version 0.12 of the Node.js project was released.</p>
        
        
            <h3 class="t3" id="h1.1.6">1.1.6    Node.js Reunited</h3>
            <p class="standard">In June 2015, the two projects io.js and Node.js were merged into the Node.js Foundation. With version 4 of the project, the merger was completed. Further development of the Node.js platform is now coordinated by a committee within the Node.js Foundation rather than by individuals. As a result, we see more frequent releases and a stable version with long-term support (LTS)<a class="indexanchor" id="i01_34"/>.</p>
        
        
            <h3 class="t3" id="h1.1.7">1.1.7    Deno<a class="indexanchor" id="i01_35"/>: A New Star in the JavaScript Sky</h3>
            <p class="standard">Since the merger of io.js and Node.js, things have become quieter around Node.js. The regular releases, the stability, and also the integration of new features, such as worker threads<a class="indexanchor" id="i01_36"/>, HTTP/2<a class="indexanchor" id="i01_37"/> or performance hooks<a class="indexanchor" id="i01_38"/>, keep up the good mood within the community. And just when things were starting to get almost too quiet around Node.js, an old acquaintance, Dahl, took the stage again in 2018 to introduce a new JavaScript platform called Deno during his talk, “10 Things I Regret about Node.js.”</p>
            <p class="standard">The idea behind Deno is to create a better Node.js, untethered from the backwards compatibility constraints that prevent revolutionary leaps in development. For example, Deno is based on TypeScript<a class="indexanchor" id="i01_39"/> by default and adds a fundamentally different module system. Deno’s core is also quite different from Node.js, as it’s written almost entirely in Rust.</p>
            <p class="standard">Nevertheless, there are also some common features. For example, Deno is based on the tried and tested V8 engine, which also forms the heart of Node.js. And you don’t have to do without the huge number of npm packages either. For this purpose, Deno provides a compatibility layer. You can read more about Deno in <span class="crossreference "><a href="28_001.html#h28">Chapter 28</a></span>.</p>
        
        
            <h3 class="t3" id="h1.1.8">1.1.8    <a id="p37"/>OpenJS Foundation<a class="indexanchor" id="i01_40"/></h3>
            <p class="standard">In 2015, the Node.js Foundation was established to coordinate the development of the platform. The foundation was a subordinate project of the Linux Foundation<a class="indexanchor" id="i01_41"/>. In 2019, the JS Foundation and the Node.js Foundation then merged to form the OpenJS Foundation. In addition to Node.js, it includes a number of other popular projects such as webpack, ESLint, and Electron.</p>
        
    </div><p class="signatur"/>
                    </body>
                </html>