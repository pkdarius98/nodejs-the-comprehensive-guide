<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
                    
        <head><meta content="application/xhtml+xml; charset=utf-8" http-equiv="Content-Type"/>
            <meta content="application/xhtml+xml; charset=utf-8" name="content-type"/>
            <meta content="Installation" name="title"/>
            <meta content="Sebastian Springer" name="author"/>
            <meta content="Rheinwerk Publishing" name="publisher"/>
            <meta content="© 2022 by Rheinwerk Publishing Inc., Boston (MA)" name="copyright"/>
            <meta content="Node.js - The Comprehensive Guide - Installation" name="description"/>
            <meta content="en" name="language"/>
            <title>Installation</title>
            <link href="common/main.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:e0000000-0000-0000-0000-000029756394" name="Adept.expected.resource"/>
        </head>
    


                    <body class="office_us type_kapitel">
                        <div id="main"><h1 class="t1" id="h2">2    <a id="p55"/>Installation</h1><p class="introductorynote indent_chapter_single">The tallest towers start with the foundation.<br/>—Thomas Alva Edison</p><p class="standard">The<a class="indexanchor" id="i02_00"/> components of Node.js were developed in C++. This means that the entire platform is basically independent of the operating system on which it runs. This platform independence<a class="indexanchor" id="i02_01"/> ensures that you can install Node.js on Unix<a class="indexanchor" id="i02_02"/>-based systems, such as Linux<a class="indexanchor" id="i02_03"/> or macOS,<a class="indexanchor" id="i02_04"/> as well as on Windows<a class="indexanchor" id="i02_05"/>. Originally, Node.js was developed to be installed and used on Unix-based systems. You can still notice this origin because some functionalities aren’t available on Windows. For example, you can’t access various functions of the <samp class="listingcharacter listingcharacter">process</samp> module on Windows. Another difference can be observed in the <samp class="listingcharacter listingcharacter">fs</samp> module that encapsulates the file system functionality for Node.js. The <samp class="listingcharacter listingcharacter">watch</samp> functionality is based on the interfaces provided by the operating system<a class="indexanchor" id="i02_06"/>, so it behaves somewhat differently on different systems. In addition, the interfaces aren’t 100% consistent. In summary, Node.js works stably and reliably on all three platforms mentioned. However, when using the various features, as a developer, you should always consult the application programming interface (API) documentation<a class="indexanchor" id="i02_07"/> at <span class="url"><a href="http://nodejs.org/api/">http://nodejs.org/api/</a></span> to ensure that the respective functionality is also available on your target system in the expected manner.</p><p class="standard">Regarding versioning<a class="indexanchor" id="i02_08"/>, Node.js follows the classic semantic versioning approach, <span class="italic">semver</span><a class="indexanchor" id="i02_09"/> (<span class="url"><a href="http://semver.org">http://semver.org</a></span>). This means that a Node.js version number consists of three parts: the major release<a class="indexanchor" id="i02_10"/>, minor release<a class="indexanchor" id="i02_11"/>, and patch level<a class="indexanchor" id="i02_12"/>. The name of a Node.js package, as available on the Node.js website, appears as <span class="italic">node-v &lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;</span>, usually followed by information about the operating system and the target architecture. For example, for a Linux system with a 64-bit processor, you get the following name: <span class="italic">node-v10.6.0-linux-x64.tar.xz</span>. A major release increase means that, in our case, Node.js has undergone serious changes, also referred to as <span class="italic">breaking changes</span><a class="indexanchor" id="i02_13"/>, and there’s no guarantee that existing applications will be able to run without extensive modifications. This part of the version number also has an additional meaning: even numbers indicate that it’s a long-term support (LTS) release<a class="indexanchor" id="i02_14"/> with extended support, whereas odd versions have a shorter life span. The minor version is reserved for enhancements and improvements that don’t contain breaking changes, if the Node.js version can be updated easily. The patch level is increased quite often, and it simply tells you that the version used contains the smallest updates and bug fixes<a class="indexanchor" id="i02_15"/>.</p><p class="standard">After all these rather theoretical explanations so far, the following sections deal with the installation of the Node.js platform. By the end of this chapter, you’ll have a working <a id="p56"/>installation of Node.js on your system, whether you’re running Linux, macOS, or Windows.</p><p class="standard"> In the course of this chapter, you’ll be guided step by step through the installation process. We’ll primarily cover the installation of the packages for your particular operating system. You’ll also learn how to compile the source code and install it on your system.</p>
        <h2 class="t2" id="h2.1">2.1    Installing<a class="indexanchor" id="i02_16"/> Packages</h2>
        <p class="standard">The easiest way to install Node.js on your system is to use existing packages for your system. The advantage here is that you can use your system’s package manager<a class="indexanchor" id="i02_17"/>, which does most of the work for you during the installation phase. You don’t need to worry about resolving dependencies here, so you can install Node.js on your system with just a few lines on the command line or a few clicks, depending on which operating system you’re using. Node.js is an open-source project, so<a class="indexanchor" id="i02_18"/> it’s available free of charge from <span class="url"><a href="https://nodejs.org/en/download/current/">https://nodejs.org/en/download/current/</a></span>. There you have the choice between the LTS version<a class="indexanchor" id="i02_19"/>, which is recommended for most users, and the current version, which contains the latest features. You can also download the packages for different operating systems and computer architectures<a class="indexanchor" id="i02_20"/> to your computer using the respective links. The table in <span class="crossreference "><a href="02_001.html#f2.1">Figure 2.1</a></span> shows the different versions available for download.</p>
        <div class="imagebox figure-type"><a href="img-f2.1.html" id="f2.1"><img alt="Downloads from Node.js" id="img-f2.1" src="bilderklein/klein02_001.png"/></a></div>
        <p class="caption "><b>Figure 2.1</b>    
            Downloads from Node.js</p>
        <p class="standard"><a id="p57"/>Each of the following sections covers the installation of packages for a particular operating system. It’s usually sufficient to read through the appropriate section for your system and then move on to <span class="crossreference "><a href="03_001.html#h3">Chapter 3</a></span>. If you want to compile and install Node.js from the source code, you can proceed directly to <span class="crossreference "><a href="02_002.html#h2.2">Section 2.2</a></span>, which provides a detailed description of this process.</p>
        
            <h3 class="t3" id="h2.1.1">2.1.1    Linux<a class="indexanchor" id="i02_21"/></h3>
            <p class="standard">This section describes how you can install Node.js on a Linux system. In this context, you have two different options for installing Node.js. The first one consists of installing the Linux binaries<a class="indexanchor" id="i02_22"/> that you can download from <span class="url"><a href="http://nodejs.org">http://nodejs.org</a></span>. The use of the package manager<a class="indexanchor" id="i02_23"/> of the operating system represents the second option.</p>
            
                <h4 class="t4" id="h2.1.1.1">Installing the Linux Binaries</h4>
                <p class="standard">In the first installation variant, the distributions don’t differ because the Linux binaries package already contains the executables, and the package only needs to be unpacked and correctly integrated into the system. According to the Filesystem Hierarchy Standard<a class="indexanchor" id="i02_24"/> (FHS) for Unix systems, the <span class="italic">/opt</span> directory serves as a container for additional software, so this directory is a suitable location for the Node.js Linux binaries. The installation of the packages is described in <span class="crossreference "><a href="02_001.html#l2.1">Listing 2.1</a></span>.</p>
                <div class="listing " id="l2.1"><pre><span class="bold"><samp class="listingcharacter listingcharacter">$ cd ~<br/>$ wget https://nodejs.org/dist/v16.8.0/node-v16.8.0-linux-x64.tar.xz</samp></span><br/>--2021-09-03 11:34:59--  https://nodejs.org/dist/v16.8.0/node-v16.8.0-linux-x64.tar.xz<br/>Resolving nodejs.org... 104.20.23.46, 104.20.22.46<br/>...<br/><span class="bold"><samp class="listingcharacter listingcharacter">$ cd /opt<br/>$ sudo tar xvf  ~/node-v16.8.0-linux-x64.tar.xz</samp></span><br/>[sudo] password for &lt;username&gt;: <br/>node-v16.8.0-linux-x64/<br/>...<br/><span class="bold"><samp class="listingcharacter listingcharacter">$ sudo ln -s node-v16.8.0-linux-x64 nodejs</samp></span><br/>$ </pre></div>
                <p class="caption "><b>Listing 2.1</b>    
            Installing the Node.js Linux Binaries</p>
                <p class="standard"><span class="crossreference "><a href="02_001.html#l2.1">Listing 2.1</a></span> shows you how to download the Node.js Linux binaries package without a graphical user interface (GUI). To do this, you use the <samp class="listingcharacter listingcharacter">wget</samp><a class="indexanchor" id="i02_25"/> command-line tool. It downloads the package from the web server <span class="url"><a href="http://nodejs.org">http://nodejs.org</a></span>. After that, it will be unpacked in the <span class="italic">/opt</span> directory. To install software in this directory, you need a <samp class="listingcharacter listingcharacter">root</samp> permission,<a class="indexanchor" id="i02_26"/> which, in this case, you can obtain via the <samp class="listingcharacter listingcharacter">sudo</samp><a class="indexanchor" id="i02_27"/> command. In the final step, a symbolic link with the name <span class="italic">nodejs</span> to the directory is created, so you’ll save some typing work in the further course and avoid mistakes when writing the complete directory name. At <a id="p58"/>this point, you can already use Node.js on the command line<a class="indexanchor" id="i02_28"/><a class="indexanchor" id="i02_29"/> by addressing the <span class="italic">node</span> executable with its absolute or relative path specification. However, this in turn means that you have to enter a disproportionately long command each time you call it, depending on where it’s stored. In addition, it’s easy for errors to creep in. The goal now is to call Node.js directly by entering the <samp class="listingcharacter listingcharacter">node</samp> command, which you can easily do by including the <span class="italic">bin</span> directory within the Node.js installation in the system’s search path. <span class="crossreference "><a href="02_001.html#l2.2">Listing 2.2</a></span> shows the command lines required to expand the search path accordingly.</p>
                <div class="listing " id="l2.2"><pre>$ PATH=$PATH:/opt/nodejs/bin<br/>$ export PATH </pre></div>
                <p class="caption "><b>Listing 2.2</b>    
            Extending the Search Path under Linux</p>
                <p class="standard">After typing the two lines shown in <span class="crossreference "><a href="02_001.html#l2.2">Listing 2.2</a></span> in your command-line tool, you can use Node.js. The only problem now is that you have to reenter these commands for each shell session<a class="indexanchor" id="i02_30"/> because the search path extension isn’t persistent. The solution to this is to include these lines in one of the system-wide configuration files<a class="indexanchor" id="i02_31"/>. Because you’re making adjustments to an environment variable in this case, the <span class="italic">/etc/profile</span> file is recommended at this point. Here, you just add the two lines to the end of the file, and Node.js is available on the command line every time you log in to the system. Finally, to activate the change in the current shell, you must enter the <samp class="listingcharacter listingcharacter">source /etc/profile</samp> command, which ensures that the file will be retrieved again.</p>
            
            
                <h4 class="t4" id="h2.1.1.2">Installation via Package Manager<a class="indexanchor" id="i02_32"/></h4>
                <p class="standard">The second, better option of installing Node.js on Linux systems depends on the package manager of the respective distribution<a class="indexanchor" id="i02_33"/>. <span class="crossreference "><a href="02_001.html#l2.3">Listing 2.3</a></span> shows how to install Node.js on an Ubuntu system with just a few steps.</p>
                <div class="listing " id="l2.3"><pre>$ sudo apt-get install nodejs </pre></div>
                <p class="caption "><b>Listing 2.3</b>    
            Installing Node.js via the Ubuntu Package Manager</p>
                <p class="standard">The command in <span class="crossreference "><a href="02_001.html#l2.3">Listing 2.3</a></span> uses the version that is stored in the default repositories. If you install Node.js in this method, the advantage is that the software is automatically updated as soon as a new version becomes available in the repository<a class="indexanchor" id="i02_34"/>. The disadvantage of this type of installation is that the versions are updated quite slowly so the latest version is rarely available. However, you can include an additional repository that provides you with the latest version of Node.js as a package and can be updated automatically if a new version is released. <span class="crossreference "><a href="02_001.html#l2.4">Listing 2.4</a></span> shows the individual steps you need to perform to include the repository and install Node.js from it.</p>
                <div class="listing " id="l2.4"><pre>$ curl -fsSL https://deb.nodesource.com/setup_16.x | sudo -E bash -<br/>$ sudo apt-get install -y nodejs </pre></div>
                <p class="caption "><b>Listing 2.4</b>    
            Integrating the Node.js Repository for Ubuntu</p>
                <p class="standard"><a id="p59"/>As with most operations involving package manager, you need to have <samp class="listingcharacter listingcharacter">root</samp> permissions again, and the easiest way to obtain this is using the <samp class="listingcharacter listingcharacter">sudo</samp> command.</p>
                <p class="standard">There is one drawback to installing Node.js via the system’s internal package manager: there is only one version of Node.js available to you. If you want to test your application on different versions of Node.js, you can either use Node.js via the Linux binaries or use a tool such as Node Version Manager (nvm;<a class="indexanchor" id="i02_35"/> <span class="url"><a href="https://github.com/creationix/nvm">https://github.com/creationix/nvm</a></span>), which allows you to run multiple versions in parallel. Apart from that, the only way left is to use several self-compiled versions of the platform.</p>
                <p class="standard">Once you’ve successfully completed these steps, you’ll have a fully functional installation of the Node.js platform on your system and can start developing your own applications. To check if the installation completed successfully, you should retrieve the version information of your Node.js installation. <span class="crossreference "><a href="02_001.html#l2.5">Listing 2.5</a></span> shows how to call Node.js to retrieve the version information.</p>
                <div class="listing " id="l2.5"><pre><span class="bold"><samp class="listingcharacter listingcharacter">$ node -v</samp></span><br/>v16.8.0 </pre></div>
                <p class="caption "><b>Listing 2.5</b>    
            Retrieving Version Information of Node.js on Linux</p>
                <p class="standard">If you see the correct version number<a class="indexanchor" id="i02_36"/>, it means that the installation was successful, and you can start using Node.js.</p>
                <p class="standard">The next sections deal with installing the Node.js platform on other systems. You can also skip those sections and proceed directly to <span class="crossreference "><a href="03_001.html#h3">Chapter 3</a></span>, where the initial practical examples under Node.js are presented.</p>
            
            
                <h4 class="t4" id="h2.1.1.3">Uninstalling<a class="indexanchor" id="i02_37"/></h4>
                <p class="standard">The way you remove Node.js from your system depends predominantly on how you installed the platform. For the Linux binaries, you should delete the directory that you unpacked during the installation and remove the entries from the <span class="italic">/etc/profile</span> file.</p>
                <p class="standard">If you installed Node.js via your system’s package manager, you can also use this tool to remove it. On Ubuntu<a class="indexanchor" id="i02_38"/> systems, you must run the commands shown in <span class="crossreference "><a href="02_001.html#l2.6">Listing 2.6</a></span>.</p>
                <div class="listing " id="l2.6"><pre>$ sudo apt-get remove --purge nodejs<br/>$ sudo apt-get clean </pre></div>
                <p class="caption "><b>Listing 2.6</b>    
            Uninstalling Node.js on Linux</p>
                <p class="standard">The <samp class="listingcharacter listingcharacter">apt-get</samp><a class="indexanchor" id="i02_39"/> command with the <samp class="listingcharacter listingcharacter">remove</samp> option ensures that the Node.js installation on your system is deleted. With <samp class="listingcharacter listingcharacter">--purge</samp>, you can also remove any configuration files<a class="indexanchor" id="i02_40"/> created during the installation from the system. The next command, <samp class="listingcharacter listingcharacter">apt-get</samp> with the <samp class="listingcharacter listingcharacter">clean</samp> option, is responsible for flushing the package cache<a class="indexanchor" id="i02_41"/> and thus freeing the occupied space. The package cache contains the packages that were downloaded for installation. Thus, Node.js can be completely removed from the system.</p>
            
        
        
            <h3 class="t3" id="h2.1.2">2.1.2    <a id="p60"/>Windows<a class="indexanchor" id="i02_42"/></h3>
            <p class="standard">Originally, Node.js was only available on Linux. If you wanted to install it on Windows, you had no choice but to run it using Cygwin<a class="indexanchor" id="i02_43"/>. This project can be found at <span class="url"><a href="http://www.cygwin.com">www.cygwin.com</a></span>. Cygwin provides a Linux-like environment on Windows to run Linux software there. As of version 0.6, however, a lot of things have changed in terms of support for different platforms. With the introduction of the <a class="indexanchor" id="i02_44"/><samp class="listingcharacter listingcharacter">libuv</samp> library and the concurrent abstraction of <samp class="listingcharacter listingcharacter">libev</samp><a class="indexanchor" id="i02_45"/> and <samp class="listingcharacter listingcharacter">libeio</samp><a class="indexanchor" id="i02_46"/>, it became possible to run Node.js natively on Windows without any further workaround or additional software. The Node.js download page provides both an executable binary package of Node.js and an <span class="italic">.msi</span> package<a class="indexanchor" id="i02_47"/> for installing Node.js. Node.js can run on almost any Windows platform. Support ranges from Windows 2000 to Windows 10 for desktop systems. However, Node.js can also be installed on Windows server systems. In addition, Node.js is available on the Microsoft Azure<a class="indexanchor" id="i02_48"/> cloud platform, making cloud applications with Node.js possible.</p>
            
                <h4 class="t4" id="h2.1.2.1">Binary Package<a class="indexanchor" id="i02_49"/></h4>
                <p class="standard">The easiest way to run Node.js on Windows is to use the binary package. You just need to download it and then use it without any further installation. Node.js can then be launched in two different ways, either by double-clicking the <span class="italic">node.exe</span> file or via the command line<a class="indexanchor" id="i02_50"/>. <span class="crossreference "><a href="02_001.html#l2.7">Listing 2.7</a></span> shows how you can check whether or not Node.js runs on your system. Here it’s assumed that the <span class="italic">node.exe</span> file is located directly in the root directory on your hard disk. However, you can also place the file in any other directory.</p>
                <div class="listing " id="l2.7"><pre><span class="bold"><samp class="listingcharacter listingcharacter">C:\&gt;node.exe -v</samp></span><br/>V16.8.0 </pre></div>
                <p class="caption "><b>Listing 2.7</b>    
            Viewing Node.js Version Information on Windows</p>
                <p class="standard">Using the binary version of Node.js on Windows has some significant drawbacks. For example, you can’t start Node.js from anywhere in the command line with just the <samp class="listingcharacter listingcharacter">node</samp> command. To achieve this, you must manually extend the system’s search path<a class="indexanchor" id="i02_51"/> or place the file in a directory that is already included in the search path. Another disadvantage of this option is that you can only use the Node.js platform with the binary, but not npm,<a class="indexanchor" id="i02_52"/> which you can find at <span class="url"><a href="https://npmjs.com">https://npmjs.com</a></span>. You can get around these disadvantages by using the second method of running Node.js on Windows.</p>
            
            
                <h4 class="t4" id="h2.1.2.2">Microsoft Software Installer<a class="indexanchor" id="i02_53"/></h4>
                <p class="standard">On the download page of <span class="url"><a href="https://nodejs.org">https://nodejs.org</a></span>, there is also a Microsoft Software Installer (i.e., <span class="italic">.msi</span>) package available in addition to the binary package, which you can use to install Node.js. In just a few steps, you’re guided through the installation, and then you can start using Node.js on your system.</p>
                <p class="standard">After double-clicking on the Node.js installer package, the interactive installer will launch, and you’ll be in the welcome window shown in <span class="crossreference "><a href="02_001.html#f2.2">Figure 2.2</a></span>.</p>
                <div class="imagebox figure-type"><a href="img-f2.2.html" id="f2.2"><img alt="First Step in the Installation of Node.js on Windows" id="img-f2.2" src="bilderklein/klein02_002.png"/></a></div>
                <p class="caption "><b>Figure 2.2</b>    
            <a id="p61"/>First Step in the Installation of Node.js on Windows</p>
                <p class="standard">The <span class="screenelement">Next</span> button takes you to the second step of the installation. Here you’re presented with the license information<a class="indexanchor" id="i02_54"/> for Node.js, which you must accept by checking <span class="screenelement">I accept the terms in the License Agreement</span>.</p>
                <p class="standard">At this point, you have the option to print the license information, go back to the first step, or accept the license conditions, as shown in <span class="crossreference "><a href="02_001.html#f2.3">Figure 2.3</a></span>. (By the way, you can cancel the installation process at any time by clicking the <span class="screenelement">Cancel</span> button.) </p>
                <div class="imagebox figure-type"><a href="img-f2.3.html" id="f2.3"><img alt="Node.js License Information on Windows" id="img-f2.3" src="bilderklein/klein02_003.png"/></a></div>
                <p class="caption "><b>Figure 2.3</b>    
            Node.js License Information on Windows</p>
                <p class="standard"><a id="p62"/>Once you’ve checked the box, use the <span class="screenelement">Next</span> button to select the target directory<a class="indexanchor" id="i02_55"/> for the installation. The default value here is <span class="italic">C:\Program Files\nodejs</span>. Once you’ve set the installation target, you can select the components to install, with the default selection including all required components. Then click the <span class="screenelement">Install</span> button to start the actual installation of Node.js as shown in <span class="crossreference "><a href="02_001.html#f2.4">Figure 2.4</a></span>. This involves copying the necessary files to the right locations in the system and registering the software so that you can use Node.js on your system.</p>
                <div class="imagebox figure-type"><a href="img-f2.4.html" id="f2.4"><img alt="Installing Node.js on Windows" id="img-f2.4" src="bilderklein/klein02_004.png"/></a></div>
                <p class="caption "><b>Figure 2.4</b>    
            Installing Node.js on Windows</p>
                <p class="standard">Once all the tasks required for you to run Node.js on Windows have been completed, the display switches to the final step of the installation. Then you can finish installing Node.js via the <span class="screenelement">Finish</span> button as shown in <span class="crossreference "><a href="02_001.html#f2.5">Figure 2.5</a></span>.</p>
                <div class="imagebox figure-type"><a href="img-f2.5.html" id="f2.5"><img alt="Completing the Installation on Windows" id="img-f2.5" src="bilderklein/klein02_005.png"/></a></div>
                <p class="caption "><b>Figure 2.5</b>    
            Completing the Installation on Windows</p>
                <p class="standard"><a id="p63"/>When the setup window is closed, you can open the command prompt window (<span class="italic">cmd.exe</span>) and check whether the installation of Node.js on your system was successful. For this purpose, as shown in <span class="crossreference "><a href="02_001.html#l2.8">Listing 2.8</a></span>, you must run the <samp class="listingcharacter listingcharacter">node</samp> command along with the <samp class="listingcharacter listingcharacter">-v</samp> option to retrieve the version information<a class="indexanchor" id="i02_56"/>.</p>
                <div class="listing " id="l2.8"><pre><span class="bold"><samp class="listingcharacter listingcharacter">C:\&gt;node -v</samp></span><br/>v16.8.0 </pre></div>
                <p class="caption "><b>Listing 2.8</b>    
            Viewing Node.js Version Information on Windows</p>
                <p class="standard">If you installed Node.js using the <span class="italic">.msi</span> package, you should note that Node.js is now available to you system-wide<a class="indexanchor" id="i02_57"/> on the command line, and you don’t need to customize any environment variables. This means you can start implementing your first application with Node.js.</p>
            
            
                <h4 class="t4" id="h2.1.2.3">Uninstalling<a class="indexanchor" id="i02_58"/></h4>
                <p class="standard">If at any time you want to remove Node.js from your system, that’s no problem either. Depending on how you proceeded with the installation, you can choose one of two ways to delete Node.js from your Windows system. If you use the Windows binaries of Node.js, you only need to remove the <span class="italic">node.exe</span> file from your system. If you’ve installed Node.js on your system using the <span class="italic">.msi</span> package, you can use Windows Package Manager<a class="indexanchor" id="i02_59"/> to uninstall Node.js.</p>
                <p class="standard">You can get to the control panel in Windows via Windows Explorer by selecting <span class="screenelement">Computer</span> on the left and then <span class="screenelement">Computer</span> on the menu bar. After that, you must click on <span class="screenelement">Control Panel</span>. There, the <span class="screenelement">Uninstall program</span> link under the <span class="screenelement">Programs</span> item will take you to an overview where you can select the <span class="screenelement">Uninstall program</span> item under <span class="screenelement">Programs and Features</span> to get a list of all installed software components on your system. In this list, select the <span class="screenelement">node.js</span> entry, and then click <span class="screenelement">Uninstall</span> to remove Node.js from your system.</p>
                <p class="standard">The rest of the chapter deals with installing Node.js on macOS and compiling Node.js from source files. If you want to jump right into development with Node.js, you can skip ahead to <span class="crossreference "><a href="03_001.html#h3">Chapter 3</a></span>.</p>
            
        
        
            <h3 class="t3" id="h2.1.3">2.1.3    macOS<a class="indexanchor" id="i02_60"/></h3>
            <p class="standard">As is the case for Windows, a binary package and an installer package for installation are available as downloads for macOS systems.</p>
            
                <h4 class="t4" id="h2.1.3.1">Binary Package</h4>
                <p class="standard">The easiest way to run Node.js on macOS is to use the binary package. The package is available as a zipped tar archive, and all you have to do is unzip it on the command line, as shown in <span class="crossreference "><a href="02_001.html#l2.9">Listing 2.9</a></span>.</p>
                <div class="listing " id="l2.9"><pre><a id="p64"/>$ wget https://nodejs.org/dist/v16.8.0/node-v16.8.0-darwin-x64.tar.gz<br/>$ tar xvzf node-v16.8.0-darwin-x64.tar.gz<br/>$ cd  node-v16.8.0-darwin-x64<br/>$ bin/node -v<br/>v16.8.0 </pre></div>
                <p class="caption "><b>Listing 2.9</b>    
            Installing the Node.js Binary Package on macOS</p>
                <p class="standard">As you can see in <span class="crossreference "><a href="02_001.html#l2.9">Listing 2.9</a></span>, Node.js can be used directly after unpacking. Using the <samp class="listingcharacter listingcharacter">-v</samp> option, you can display the version information and thus check whether it’s the correct version and whether Node.js will basically work. The big disadvantage of installing the binary package is that Node.js won’t be available system-wide via the command line. But there’s a solution to this problem: using the installer.</p>
            
            
                <h4 class="t4" id="h2.1.3.2">Installer Package<a class="indexanchor" id="i02_61"/></h4>
                <p class="standard">To start the installation, you must double-click the downloaded <span class="italic">.pkg</span> file<a class="indexanchor" id="i02_62"/>. You’ll then be guided through a multistep interactive process that results in a working installation of Node.js. <span class="crossreference "><a href="02_001.html#f2.6">Figure 2.6</a></span> shows the first step of the installation, which tells you that Node.js and npm will be installed into the <span class="italic">/usr/local/bin</span> directory. Click <span class="screenelement">Continue</span> to move on with the installation.</p>
                <div class="imagebox figure-type"><a href="img-f2.6.html" id="f2.6"><img alt="Installing Node.js on macOS" id="img-f2.6" src="bilderklein/klein02_006.png"/></a></div>
                <p class="caption "><b>Figure 2.6</b>    
            Installing Node.js on macOS</p>
                <p class="standard">In the subsequent step of the installation, you’ll be presented with the Node.js license terms<a class="indexanchor" id="i02_63"/>. Here, as you can see in <span class="crossreference "><a href="02_001.html#f2.7">Figure 2.7</a></span>, you can choose different languages in which the corresponding information will be displayed to you. You can also print the license terms or save them to your system.</p>
                <div class="imagebox figure-type"><a href="img-f2.7.html" id="f2.7"><img alt="Node.js for macOS License Terms" id="img-f2.7" src="bilderklein/klein02_007.png"/></a></div>
                <p class="caption "><b>Figure 2.7</b>    
            <a id="p65"/>Node.js for macOS License Terms</p>
                <p class="standard">As you move through the installation process, you can always return to the previous installation step by clicking the <span class="screenelement">Go Back</span> button. After clicking <span class="screenelement">Continue</span>, a separate popup window prompts you to agree to the license terms and proceed with the installation. You have the choice to either agree—by clicking the <span class="screenelement">Agree</span> button—and thus continue the installation process, or disagree and thus cancel the installation.</p>
                <div class="imagebox figure-type"><a href="img-f2.8.html" id="f2.8"><img alt="Type of Installation" id="img-f2.8" src="bilderklein/klein02_008.png"/></a></div>
                <p class="caption "><b>Figure 2.8</b>    
            Type of Installation</p>
                <p class="standard"><a id="p66"/>Once you’ve accepted the license terms, the next question you’ll be asked is about the partition you want to install Node.js on. The <span class="screenelement">Continue</span> button will take you to the next step, where you’ll select the type of installation. To proceed with the standard installation<a class="indexanchor" id="i02_64"/>, click <span class="screenelement">Install</span>.</p>
                <p class="standard">At this point, you need to enter your user name and the corresponding password so that the software can be installed correctly on your system. Once you’ve provided and confirmed these details, the actual installation of Node.js will begin, and the files will be copied from the installer package to the system. From this point on, you can no longer return to a previous step via <span class="screenelement">Go Back</span>.</p>
                <p class="standard">When all the files are copied, the installation is complete, and you’ll get a short summary similar to the one shown in <span class="crossreference "><a href="02_001.html#f2.9">Figure 2.9</a></span>.</p>
                <div class="imagebox figure-type"><a href="img-f2.9.html" id="f2.9"><img alt="Completing the Node.js Installation on macOS" id="img-f2.9" src="bilderklein/klein02_009.png"/></a></div>
                <p class="caption "><b>Figure 2.9</b>    
            Completing the Node.js Installation on macOS</p>
                <p class="standard">Now you find out where Node.js and npm were installed and which directory you need to include in your <samp class="listingcharacter listingcharacter">PATH</samp> variable<a class="indexanchor" id="i02_65"/> so that you can use Node.js on the command line with the <samp class="listingcharacter listingcharacter">node</samp> command without having to include the full path. By default, the <span class="italic">/usr/local/bin</span> directory is in the system search path, as shown in <span class="crossreference "><a href="02_001.html#l2.10">Listing 2.10</a></span>.</p>
                <div class="listing " id="l2.10"><pre><span class="bold"><samp class="listingcharacter listingcharacter">$ echo $PATH</samp></span><br/>/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin </pre></div>
                <p class="caption "><b>Listing 2.10</b>    
            Querying the “PATH” Variables on macOS</p>
                <p class="standard">If you’ve followed the steps of installing Node.js as described, you can now use the platform. To make sure that you’ve really installed the latest version and that Node.js <a id="p67"/>works correctly, you can retrieve the version information<a class="indexanchor" id="i02_66"/> via the command line, as shown in <span class="crossreference "><a href="02_001.html#l2.11">Listing 2.11</a></span>.</p>
                <div class="listing " id="l2.11"><pre><span class="bold"><samp class="listingcharacter listingcharacter">$ node -v</samp></span><br/>v16.8.0 </pre></div>
                <p class="caption "><b>Listing 2.11</b>    
            Querying the Version Information of Node.js on macOS</p>
            
            
                <h4 class="t4" id="h2.1.3.3">Uninstalling<a class="indexanchor" id="i02_67"/></h4>
                <p class="standard">If you want to remove Node.js from your system, you can simply delete the previously unpacked directory again, provided you use the binary package.</p>
                <p class="standard">If you’ve installed Node.js via the installer, when uninstalling, you’ll benefit from the fact that the pkg installer logs the files that are copied to your system. You can find that information under <span class="italic">/var/db/receipts/</span> in the files <span class="italic">org.nodejs.node.npm.pkg.bom</span> and <span class="italic">org.nodejs.pkg.bom</span>. The <span class="italic">.bom</span> file extension stands for bill of material<a class="indexanchor" id="i02_68"/>. These files record the location of the files relative to the location of the installation. Because all pieces of information, such as the file list and also the location of the installation, are in binary format, you can use the <samp class="listingcharacter listingcharacter">pkgutil</samp><a class="indexanchor" id="i02_69"/> tool to output the information. The <samp class="listingcharacter listingcharacter">pkgutil</samp> tool uses the names of the respective packages. The name of your Node.js package is <span class="italic">org.nodejs.pkg</span>. As shown in <span class="crossreference "><a href="02_001.html#l2.12">Listing 2.12</a></span>, the metadata can be viewed using the <samp class="listingcharacter listingcharacter">--pkg-info</samp> option.</p>
                <div class="listing " id="l2.12"><pre><span class="bold"><samp class="listingcharacter listingcharacter">$ pkgutil --pkg-info org.nodejs.node.pkg</samp></span><br/>package-id: org.nodejs.node.pkg<br/>version: v16.8.0<br/>volume: /<br/>location: /<br/>install-time: 1526228155  </pre></div>
                <p class="caption "><b>Listing 2.12</b>    
            Metadata about the Node.js Package on macOS</p>
                <p class="standard"><span class="crossreference "><a href="02_001.html#l2.12">Listing 2.12</a></span> shows that you’ve installed Node.js on the <span class="italic">/</span> volume via the <span class="italic">usr/local</span> path. This path represents the prefix for the file list you can obtain from the <span class="italic">.bom</span> file<a class="indexanchor" id="i02_70"/>, as shown in <span class="crossreference "><a href="02_001.html#l2.13">Listing 2.13</a></span>.</p>
                <div class="listing " id="l2.13"><pre><span class="bold"><samp class="listingcharacter listingcharacter">$ pkgutil --lsbom org.nodejs.node.pkg</samp></span><br/>.<br/>./usr<br/>./usr/local<br/>./usr/local/bin<br/>./usr/local/bin/node<br/>./usr/local/include<br/>... </pre></div>
                <p class="caption "><b>Listing 2.13</b>    
            List of Installed Files on macOS</p>
                <p class="standard"><a id="p68"/>In previous versions, <samp class="listingcharacter listingcharacter">pkgutil</samp> could use an option called <samp class="listingcharacter listingcharacter">--unlink</samp> to completely delete a package. This option has been removed in newer versions because removing a package can affect other installed software applications on your system. For this reason, you should act with extreme caution if you want to remove software that was installed using the pkg installer<a class="indexanchor" id="i02_71"/>. In the simplest case, you should remove the installed files manually or create a shell script<a class="indexanchor" id="i02_72"/> that iterates across the file list and removes the files. Once you’ve removed the files of the package, you can also remove the package information using <samp class="listingcharacter listingcharacter">pkgutil</samp>, as shown in <span class="crossreference "><a href="02_001.html#l2.14">Listing 2.14</a></span>.</p>
                <div class="listing " id="l2.14"><pre>$ sudo pkgutil --forget org.nodejs.pkg </pre></div>
                <p class="caption "><b>Listing 2.14</b>    
            Removing the Package Information on macOS</p>
                <p class="standard">Installing Node.js via a prebuilt package has many advantages. First of all, you’re dealing with a hassle-free installation process and don’t have to consider any dependencies. In addition, you can remove these packages from the system again afterwards. But there is yet another installation option available: download the source code of Node.js, compile it yourself, and install it on the system. The next sections describe how to get from source files to an operable version of Node.js.</p>
                <p class="standard">After following the installation steps, you now have a running version of Node.js that you can use to develop your own applications. In <span class="crossreference "><a href="03_001.html#h3">Chapter 3</a></span>, we’ll guide you step-by-step to code your first application under Node.js based on your installation. The remaining part of this chapter deals with the manual compilation and installation of Node.js from the source code. If this isn’t an option for you, you can proceed directly to <span class="crossreference "><a href="03_001.html#h3">Chapter 3</a></span>.</p>
            
        
    </div><p class="signatur"/>
                    </body>
                </html>